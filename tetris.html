<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="utf-8" />
    <title>Titulek</title>
 
    <style>
        .cell {
            width: 2vw;
            height: 2vw;
            border: solid black;
            border-width: 2px 2px 1px 1px;
        }
    </style>

    <body>
        <div id="hra"></div>
 
    </body>
    
    <script src="gameClass.js"></script>
    <script src="activeObj.js"></script>
    <script>
        hra = new Game(10, 20, document.getElementById("hra"));


        async function gameLoop() {
            while(true) {
                await hra.step();

                await sleep(500);
            }
        }

        document.addEventListener('keydown', e => {
           if(e.key.toLowerCase() == "d") {
                    hra.rotatePiece();
           }
           if(e.key.toLowerCase() == "arrowleft") {
                    hra.rotatePiece();
           }
           if(e.key.toLowerCase() == "arrowright") {
                    hra.rotatePiece();
           }
        });

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        setTimeout(gameLoop, 0);
        hra.newPiece()
    </script>
</head>
</html>

